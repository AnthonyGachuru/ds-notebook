<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 2 Pre-Modeling | Data Science Cribsheet</title>
  <meta name="description" content="A collection of quick notes on the field.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 2 Pre-Modeling | Data Science Cribsheet" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A collection of quick notes on the field." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Pre-Modeling | Data Science Cribsheet" />
  
  <meta name="twitter:description" content="A collection of quick notes on the field." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="model.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DS Cribsheet</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Workflow</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#preamble"><i class="fa fa-check"></i><b>1.1</b> Preamble</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#resources"><i class="fa fa-check"></i><b>1.2</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pre-modeling.html"><a href="pre-modeling.html"><i class="fa fa-check"></i><b>2</b> Pre-Modeling</a><ul>
<li class="chapter" data-level="2.1" data-path="pre-modeling.html"><a href="pre-modeling.html#import"><i class="fa fa-check"></i><b>2.1</b> Import</a><ul>
<li class="chapter" data-level="2.1.1" data-path="pre-modeling.html"><a href="pre-modeling.html#general"><i class="fa fa-check"></i><b>2.1.1</b> General</a></li>
<li class="chapter" data-level="2.1.2" data-path="pre-modeling.html"><a href="pre-modeling.html#sql"><i class="fa fa-check"></i><b>2.1.2</b> SQL</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="pre-modeling.html"><a href="pre-modeling.html#tidy-transform"><i class="fa fa-check"></i><b>2.2</b> Tidy &amp; Transform</a><ul>
<li class="chapter" data-level="2.2.1" data-path="pre-modeling.html"><a href="pre-modeling.html#general-1"><i class="fa fa-check"></i><b>2.2.1</b> General</a></li>
<li class="chapter" data-level="2.2.2" data-path="pre-modeling.html"><a href="pre-modeling.html#missingness-imputation"><i class="fa fa-check"></i><b>2.2.2</b> Missingness &amp; Imputation</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="pre-modeling.html"><a href="pre-modeling.html#visualize"><i class="fa fa-check"></i><b>2.3</b> Visualize</a></li>
<li class="chapter" data-level="2.4" data-path="pre-modeling.html"><a href="pre-modeling.html#pre-processing"><i class="fa fa-check"></i><b>2.4</b> Pre-processing</a><ul>
<li class="chapter" data-level="2.4.1" data-path="pre-modeling.html"><a href="pre-modeling.html#feature-engineering"><i class="fa fa-check"></i><b>2.4.1</b> Feature Engineering</a></li>
<li class="chapter" data-level="2.4.2" data-path="pre-modeling.html"><a href="pre-modeling.html#feature-selection"><i class="fa fa-check"></i><b>2.4.2</b> Feature Selection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="model.html"><a href="model.html"><i class="fa fa-check"></i><b>3</b> Model</a><ul>
<li class="chapter" data-level="3.1" data-path="model.html"><a href="model.html#general-2"><i class="fa fa-check"></i><b>3.1</b> General</a></li>
<li class="chapter" data-level="3.2" data-path="model.html"><a href="model.html#model-selectionevaluation"><i class="fa fa-check"></i><b>3.2</b> Model Selection/Evaluation</a></li>
<li class="chapter" data-level="3.3" data-path="model.html"><a href="model.html#supervised"><i class="fa fa-check"></i><b>3.3</b> Supervised</a><ul>
<li class="chapter" data-level="3.3.1" data-path="model.html"><a href="model.html#glm"><i class="fa fa-check"></i><b>3.3.1</b> GLM</a></li>
<li class="chapter" data-level="3.3.2" data-path="model.html"><a href="model.html#generalized-additive-models"><i class="fa fa-check"></i><b>3.3.2</b> Generalized Additive Models</a></li>
<li class="chapter" data-level="3.3.3" data-path="model.html"><a href="model.html#knn"><i class="fa fa-check"></i><b>3.3.3</b> KNN</a></li>
<li class="chapter" data-level="3.3.4" data-path="model.html"><a href="model.html#svm"><i class="fa fa-check"></i><b>3.3.4</b> SVM</a></li>
<li class="chapter" data-level="3.3.5" data-path="model.html"><a href="model.html#decision-tree"><i class="fa fa-check"></i><b>3.3.5</b> Decision Tree</a></li>
<li class="chapter" data-level="3.3.6" data-path="model.html"><a href="model.html#bagging"><i class="fa fa-check"></i><b>3.3.6</b> Bagging</a></li>
<li class="chapter" data-level="3.3.7" data-path="model.html"><a href="model.html#random-forest"><i class="fa fa-check"></i><b>3.3.7</b> Random Forest</a></li>
<li class="chapter" data-level="3.3.8" data-path="model.html"><a href="model.html#boosting"><i class="fa fa-check"></i><b>3.3.8</b> Boosting</a></li>
<li class="chapter" data-level="3.3.9" data-path="model.html"><a href="model.html#naive-bayes"><i class="fa fa-check"></i><b>3.3.9</b> Na√Øve Bayes</a></li>
<li class="chapter" data-level="3.3.10" data-path="model.html"><a href="model.html#lda-qda"><i class="fa fa-check"></i><b>3.3.10</b> LDA &amp; QDA</a></li>
<li class="chapter" data-level="3.3.11" data-path="model.html"><a href="model.html#gams"><i class="fa fa-check"></i><b>3.3.11</b> GAMs</a></li>
<li class="chapter" data-level="3.3.12" data-path="model.html"><a href="model.html#hierarchical-models"><i class="fa fa-check"></i><b>3.3.12</b> Hierarchical Models</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="model.html"><a href="model.html#unsupervised"><i class="fa fa-check"></i><b>3.4</b> Unsupervised</a><ul>
<li class="chapter" data-level="3.4.1" data-path="model.html"><a href="model.html#k-means-clustering"><i class="fa fa-check"></i><b>3.4.1</b> K-Means Clustering</a></li>
<li class="chapter" data-level="3.4.2" data-path="model.html"><a href="model.html#hierarchical-clustering"><i class="fa fa-check"></i><b>3.4.2</b> Hierarchical Clustering</a></li>
<li class="chapter" data-level="3.4.3" data-path="model.html"><a href="model.html#pca"><i class="fa fa-check"></i><b>3.4.3</b> PCA</a></li>
<li class="chapter" data-level="3.4.4" data-path="model.html"><a href="model.html#multiple-correspondence-analysis"><i class="fa fa-check"></i><b>3.4.4</b> Multiple Correspondence Analysis</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="model.html"><a href="model.html#semi-supervised"><i class="fa fa-check"></i><b>3.5</b> Semi Supervised</a></li>
<li class="chapter" data-level="3.6" data-path="model.html"><a href="model.html#reinforcement-learning"><i class="fa fa-check"></i><b>3.6</b> Reinforcement Learning</a></li>
<li class="chapter" data-level="3.7" data-path="model.html"><a href="model.html#other-ml"><i class="fa fa-check"></i><b>3.7</b> Other ML</a><ul>
<li class="chapter" data-level="3.7.1" data-path="model.html"><a href="model.html#association-rule-mining"><i class="fa fa-check"></i><b>3.7.1</b> Association Rule Mining</a></li>
<li class="chapter" data-level="3.7.2" data-path="model.html"><a href="model.html#nlp"><i class="fa fa-check"></i><b>3.7.2</b> NLP</a></li>
<li class="chapter" data-level="3.7.3" data-path="model.html"><a href="model.html#geospatial"><i class="fa fa-check"></i><b>3.7.3</b> Geospatial</a></li>
<li class="chapter" data-level="3.7.4" data-path="model.html"><a href="model.html#ai"><i class="fa fa-check"></i><b>3.7.4</b> AI</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="model.html"><a href="model.html#online-learning"><i class="fa fa-check"></i><b>3.8</b> Online Learning</a></li>
<li class="chapter" data-level="3.9" data-path="model.html"><a href="model.html#sequences"><i class="fa fa-check"></i><b>3.9</b> Sequences</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="communicate-deploy-maintain.html"><a href="communicate-deploy-maintain.html"><i class="fa fa-check"></i><b>4</b> Communicate, Deploy, Maintain</a><ul>
<li class="chapter" data-level="4.1" data-path="communicate-deploy-maintain.html"><a href="communicate-deploy-maintain.html#communicate"><i class="fa fa-check"></i><b>4.1</b> Communicate</a></li>
<li class="chapter" data-level="4.2" data-path="communicate-deploy-maintain.html"><a href="communicate-deploy-maintain.html#deploymaintain"><i class="fa fa-check"></i><b>4.2</b> Deploy/Maintain</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="stats.html"><a href="stats.html"><i class="fa fa-check"></i><b>5</b> Stats</a><ul>
<li class="chapter" data-level="5.1" data-path="stats.html"><a href="stats.html#general-3"><i class="fa fa-check"></i><b>5.1</b> General</a></li>
<li class="chapter" data-level="5.2" data-path="stats.html"><a href="stats.html#sample-size"><i class="fa fa-check"></i><b>5.2</b> Sample Size</a></li>
<li class="chapter" data-level="5.3" data-path="stats.html"><a href="stats.html#hypothesis-testing"><i class="fa fa-check"></i><b>5.3</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="5.4" data-path="stats.html"><a href="stats.html#ab-testing"><i class="fa fa-check"></i><b>5.4</b> AB Testing</a><ul>
<li class="chapter" data-level="5.4.1" data-path="stats.html"><a href="stats.html#power-analysis"><i class="fa fa-check"></i><b>5.4.1</b> Power Analysis</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="stats.html"><a href="stats.html#experimental-design"><i class="fa fa-check"></i><b>5.5</b> Experimental Design</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sequences-1.html"><a href="sequences-1.html"><i class="fa fa-check"></i><b>6</b> Sequences</a><ul>
<li class="chapter" data-level="6.1" data-path="sequences-1.html"><a href="sequences-1.html#time-series"><i class="fa fa-check"></i><b>6.1</b> Time Series</a><ul>
<li class="chapter" data-level="6.1.1" data-path="sequences-1.html"><a href="sequences-1.html#notes"><i class="fa fa-check"></i><b>6.1.1</b> Notes</a></li>
<li class="chapter" data-level="6.1.2" data-path="sequences-1.html"><a href="sequences-1.html#workflow-1"><i class="fa fa-check"></i><b>6.1.2</b> Workflow</a></li>
<li class="chapter" data-level="6.1.3" data-path="sequences-1.html"><a href="sequences-1.html#preprocessing"><i class="fa fa-check"></i><b>6.1.3</b> Preprocessing</a></li>
<li class="chapter" data-level="6.1.4" data-path="sequences-1.html"><a href="sequences-1.html#feature-engineering-1"><i class="fa fa-check"></i><b>6.1.4</b> Feature Engineering</a></li>
<li class="chapter" data-level="6.1.5" data-path="sequences-1.html"><a href="sequences-1.html#packages-functions"><i class="fa fa-check"></i><b>6.1.5</b> Packages / Functions</a></li>
<li class="chapter" data-level="6.1.6" data-path="sequences-1.html"><a href="sequences-1.html#models"><i class="fa fa-check"></i><b>6.1.6</b> Models</a></li>
<li class="chapter" data-level="6.1.7" data-path="sequences-1.html"><a href="sequences-1.html#model-selection"><i class="fa fa-check"></i><b>6.1.7</b> Model Selection</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="sequences-1.html"><a href="sequences-1.html#dsp"><i class="fa fa-check"></i><b>6.2</b> DSP</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="deep-learning.html"><a href="deep-learning.html"><i class="fa fa-check"></i><b>7</b> Deep Learning</a><ul>
<li class="chapter" data-level="7.1" data-path="deep-learning.html"><a href="deep-learning.html#general-6"><i class="fa fa-check"></i><b>7.1</b> General</a></li>
<li class="chapter" data-level="7.2" data-path="deep-learning.html"><a href="deep-learning.html#pre-processing-1"><i class="fa fa-check"></i><b>7.2</b> Pre-processing</a></li>
<li class="chapter" data-level="7.3" data-path="deep-learning.html"><a href="deep-learning.html#defaults"><i class="fa fa-check"></i><b>7.3</b> Defaults</a></li>
<li class="chapter" data-level="7.4" data-path="deep-learning.html"><a href="deep-learning.html#rnnlstm"><i class="fa fa-check"></i><b>7.4</b> RNN/LSTM</a></li>
<li class="chapter" data-level="7.5" data-path="deep-learning.html"><a href="deep-learning.html#tuning"><i class="fa fa-check"></i><b>7.5</b> Tuning</a></li>
<li class="chapter" data-level="7.6" data-path="deep-learning.html"><a href="deep-learning.html#debugging"><i class="fa fa-check"></i><b>7.6</b> Debugging</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html"><i class="fa fa-check"></i><b>8</b> Probabilistic Programming</a><ul>
<li class="chapter" data-level="8.1" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html#bayes-rule"><i class="fa fa-check"></i><b>8.1</b> Bayes Rule</a></li>
<li class="chapter" data-level="8.2" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html#other-1"><i class="fa fa-check"></i><b>8.2</b> Other</a></li>
<li class="chapter" data-level="8.3" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html#doing-bayesian-da"><i class="fa fa-check"></i><b>8.3</b> Doing Bayesian DA</a></li>
<li class="chapter" data-level="8.4" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html#statistical-rethinking"><i class="fa fa-check"></i><b>8.4</b> Statistical Rethinking</a></li>
<li class="chapter" data-level="8.5" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html#causality"><i class="fa fa-check"></i><b>8.5</b> Causality</a></li>
<li class="chapter" data-level="8.6" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html#general-7"><i class="fa fa-check"></i><b>8.6</b> General</a></li>
<li class="chapter" data-level="8.7" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html#causality-edx"><i class="fa fa-check"></i><b>8.7</b> Causality edX</a><ul>
<li class="chapter" data-level="8.7.1" data-path="probabilistic-programming.html"><a href="probabilistic-programming.html#causality-coursera"><i class="fa fa-check"></i><b>8.7.1</b> Causality Coursera</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="codebook.html"><a href="codebook.html"><i class="fa fa-check"></i><b>9</b> Codebook</a><ul>
<li class="chapter" data-level="9.1" data-path="codebook.html"><a href="codebook.html#general-8"><i class="fa fa-check"></i><b>9.1</b> General</a></li>
<li class="chapter" data-level="9.2" data-path="codebook.html"><a href="codebook.html#linear-regression-assumption-checks"><i class="fa fa-check"></i><b>9.2</b> Linear Regression Assumption Checks</a></li>
<li class="chapter" data-level="9.3" data-path="codebook.html"><a href="codebook.html#regression-by-groups"><i class="fa fa-check"></i><b>9.3</b> Regression By Groups</a></li>
<li class="chapter" data-level="9.4" data-path="codebook.html"><a href="codebook.html#cyclical-feature-engineering"><i class="fa fa-check"></i><b>9.4</b> Cyclical Feature Engineering</a></li>
<li class="chapter" data-level="9.5" data-path="codebook.html"><a href="codebook.html#rpy2-ipynb"><i class="fa fa-check"></i><b>9.5</b> Rpy2 Ipynb</a></li>
<li class="chapter" data-level="9.6" data-path="codebook.html"><a href="codebook.html#symbolic-regression"><i class="fa fa-check"></i><b>9.6</b> Symbolic Regression</a></li>
<li class="chapter" data-level="9.7" data-path="codebook.html"><a href="codebook.html#stats-by-simulation"><i class="fa fa-check"></i><b>9.7</b> Stats By Simulation</a></li>
<li class="chapter" data-level="9.8" data-path="codebook.html"><a href="codebook.html#simple-bayes"><i class="fa fa-check"></i><b>9.8</b> Simple Bayes</a></li>
<li class="chapter" data-level="9.9" data-path="codebook.html"><a href="codebook.html#ts-harmonic-regression"><i class="fa fa-check"></i><b>9.9</b> TS Harmonic Regression</a></li>
<li class="chapter" data-level="9.10" data-path="codebook.html"><a href="codebook.html#save-and-load-models"><i class="fa fa-check"></i><b>9.10</b> Save And Load Models</a></li>
<li class="chapter" data-level="9.11" data-path="codebook.html"><a href="codebook.html#lstm"><i class="fa fa-check"></i><b>9.11</b> LSTM</a></li>
<li class="chapter" data-level="9.12" data-path="codebook.html"><a href="codebook.html#logistic-regression-stats-models"><i class="fa fa-check"></i><b>9.12</b> Logistic Regression Stats Models</a></li>
<li class="chapter" data-level="9.13" data-path="codebook.html"><a href="codebook.html#function-negation"><i class="fa fa-check"></i><b>9.13</b> Function Negation</a></li>
<li class="chapter" data-level="9.14" data-path="codebook.html"><a href="codebook.html#attach-date-csv"><i class="fa fa-check"></i><b>9.14</b> Attach Date CSV</a></li>
<li class="chapter" data-level="9.15" data-path="codebook.html"><a href="codebook.html#ebb"><i class="fa fa-check"></i><b>9.15</b> EBB</a></li>
<li class="chapter" data-level="9.16" data-path="codebook.html"><a href="codebook.html#plot-grid"><i class="fa fa-check"></i><b>9.16</b> Plot Grid</a></li>
<li class="chapter" data-level="9.17" data-path="codebook.html"><a href="codebook.html#pairwise-scatterplot"><i class="fa fa-check"></i><b>9.17</b> Pairwise Scatterplot</a></li>
<li class="chapter" data-level="9.18" data-path="codebook.html"><a href="codebook.html#anti-join"><i class="fa fa-check"></i><b>9.18</b> Anti-join</a></li>
<li class="chapter" data-level="9.19" data-path="codebook.html"><a href="codebook.html#df-diff"><i class="fa fa-check"></i><b>9.19</b> DF Diff</a></li>
<li class="chapter" data-level="9.20" data-path="codebook.html"><a href="codebook.html#csv-encoding-check"><i class="fa fa-check"></i><b>9.20</b> CSV Encoding Check</a></li>
<li class="chapter" data-level="9.21" data-path="codebook.html"><a href="codebook.html#pandas-profiling"><i class="fa fa-check"></i><b>9.21</b> Pandas Profiling</a></li>
<li class="chapter" data-level="9.22" data-path="codebook.html"><a href="codebook.html#read-sql"><i class="fa fa-check"></i><b>9.22</b> Read SQL</a></li>
<li class="chapter" data-level="9.23" data-path="codebook.html"><a href="codebook.html#extract-date"><i class="fa fa-check"></i><b>9.23</b> Extract Date</a></li>
<li class="chapter" data-level="9.24" data-path="codebook.html"><a href="codebook.html#ggplot-to-plotly"><i class="fa fa-check"></i><b>9.24</b> GGPLOT To Plotly</a></li>
<li class="chapter" data-level="9.25" data-path="codebook.html"><a href="codebook.html#custom-theme-for-plot"><i class="fa fa-check"></i><b>9.25</b> Custom Theme For Plot</a></li>
<li class="chapter" data-level="9.26" data-path="codebook.html"><a href="codebook.html#heatmap"><i class="fa fa-check"></i><b>9.26</b> Heatmap</a></li>
<li class="chapter" data-level="9.27" data-path="codebook.html"><a href="codebook.html#linear-regression-statsmodels"><i class="fa fa-check"></i><b>9.27</b> Linear Regression Statsmodels</a></li>
<li class="chapter" data-level="9.28" data-path="codebook.html"><a href="codebook.html#linear-regression-by-groups"><i class="fa fa-check"></i><b>9.28</b> Linear Regression By Groups</a></li>
<li class="chapter" data-level="9.29" data-path="codebook.html"><a href="codebook.html#rml-pipeline"><i class="fa fa-check"></i><b>9.29</b> RML Pipeline</a></li>
<li class="chapter" data-level="9.30" data-path="codebook.html"><a href="codebook.html#rowwise"><i class="fa fa-check"></i><b>9.30</b> Rowwise</a></li>
<li class="chapter" data-level="9.31" data-path="codebook.html"><a href="codebook.html#sampling-file"><i class="fa fa-check"></i><b>9.31</b> Sampling File</a></li>
<li class="chapter" data-level="9.32" data-path="codebook.html"><a href="codebook.html#sql-dummy-columns"><i class="fa fa-check"></i><b>9.32</b> SQL Dummy Columns</a></li>
<li class="chapter" data-level="9.33" data-path="codebook.html"><a href="codebook.html#model-calibration"><i class="fa fa-check"></i><b>9.33</b> Model Calibration</a></li>
<li class="chapter" data-level="9.34" data-path="codebook.html"><a href="codebook.html#binning-rule-of-thumb"><i class="fa fa-check"></i><b>9.34</b> Binning Rule Of Thumb</a></li>
<li class="chapter" data-level="9.35" data-path="codebook.html"><a href="codebook.html#featuretools"><i class="fa fa-check"></i><b>9.35</b> Featuretools</a></li>
<li class="chapter" data-level="9.36" data-path="codebook.html"><a href="codebook.html#skimage"><i class="fa fa-check"></i><b>9.36</b> Skimage</a></li>
<li class="chapter" data-level="9.37" data-path="codebook.html"><a href="codebook.html#shap"><i class="fa fa-check"></i><b>9.37</b> SHAP</a></li>
<li class="chapter" data-level="9.38" data-path="codebook.html"><a href="codebook.html#hyperband-cv"><i class="fa fa-check"></i><b>9.38</b> Hyperband CV</a></li>
<li class="chapter" data-level="9.39" data-path="codebook.html"><a href="codebook.html#csv-to-db"><i class="fa fa-check"></i><b>9.39</b> CSV To DB</a></li>
<li class="chapter" data-level="9.40" data-path="codebook.html"><a href="codebook.html#xgboost-light-gbm"><i class="fa fa-check"></i><b>9.40</b> Xgboost &amp; Light GBM</a></li>
<li class="chapter" data-level="9.41" data-path="codebook.html"><a href="codebook.html#bayesian-cv"><i class="fa fa-check"></i><b>9.41</b> Bayesian CV</a></li>
<li class="chapter" data-level="9.42" data-path="codebook.html"><a href="codebook.html#pyspark"><i class="fa fa-check"></i><b>9.42</b> Pyspark</a></li>
<li class="chapter" data-level="9.43" data-path="codebook.html"><a href="codebook.html#sparklyr"><i class="fa fa-check"></i><b>9.43</b> Sparklyr</a></li>
<li class="chapter" data-level="9.44" data-path="codebook.html"><a href="codebook.html#data-table"><i class="fa fa-check"></i><b>9.44</b> Data Table</a></li>
<li class="chapter" data-level="9.45" data-path="codebook.html"><a href="codebook.html#keras"><i class="fa fa-check"></i><b>9.45</b> Keras</a></li>
<li class="chapter" data-level="9.46" data-path="codebook.html"><a href="codebook.html#mnist-example"><i class="fa fa-check"></i><b>9.46</b> MNIST Example</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="checklists.html"><a href="checklists.html"><i class="fa fa-check"></i><b>10</b> Checklists</a><ul>
<li class="chapter" data-level="10.1" data-path="checklists.html"><a href="checklists.html#general-9"><i class="fa fa-check"></i><b>10.1</b> General</a></li>
<li class="chapter" data-level="10.2" data-path="checklists.html"><a href="checklists.html#linear-regression-1"><i class="fa fa-check"></i><b>10.2</b> Linear Regression</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Cribsheet</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pre-modeling" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Pre-Modeling</h1>
<div id="import" class="section level2">
<h2><span class="header-section-number">2.1</span> Import</h2>
<div id="general" class="section level3">
<h3><span class="header-section-number">2.1.1</span> General</h3>
<p>A schema is a blueprint for storing data. For a table every row has same number of columns, and each column is of the same type.</p>
<p>Make codebooks</p>
<p><a href="https://www.webscraper.io/documentation#open-web-scraper" class="uri">https://www.webscraper.io/documentation#open-web-scraper</a></p>
<p><a href="https://tabula.technology">pdf table extraction</a></p>
<p><a href="https://www.astronomer.io/">DEaaS</a></p>
<p><a href="https://www.getdbt.com/">data build tool</a></p>
<p><a href="https://www.stitchdata.com/" class="uri">https://www.stitchdata.com/</a></p>
<p><a href="https://www.prefect.io/" class="uri">https://www.prefect.io/</a></p>
<p>Documentation: <a href="http://databasenotetaker.com/">1</a> | <a href="https://dataedo.com/">2</a> | <a href="https://www.apexsql.com/sql-tools-doc.aspx">3</a> | <a href="https://techwriter.me/best-practices-guide/documenting-databases.aspx">4</a> | <a href="http://help.osf.io/m/bestpractices/l/618767-how-to-make-a-data-dictionary">5</a> | <a href="https://dataedo.com/blog/different-types-of-tools-you-can-use-to-document-your-database">6</a> | <a href="https://drawsql.app/#features">7</a></p>
<p>CLI: <a href="http://bconnelly.net/working-with-csvs-on-the-command-line/#taking-a-peek-at-the-data-set">1</a> | <a href="https://opensource.com/article/17/2/command-line-tools-data-analysis-linux?sc_cid=701600000011jJVAAY">2</a> | <a href="http://alexisperrier.com/shell/2017/11/07/command-line-data-scientist.html">3</a></p>
</div>
<div id="sql" class="section level3">
<h3><span class="header-section-number">2.1.2</span> SQL</h3>
<ul>
<li><p>Maintain a query library</p></li>
<li><p>Common Table Expressions</p></li>
<li><p>cross apply = inner join | outer apply = full join</p></li>
<li><p>SQL UNION stacks one dataset on top of the other. It only appends distinct values. More specifically, when you use UNION, the dataset is appended, and any rows in the appended table that are exactly identical to rows in the first table are dropped. If you‚Äôd like to append all the values from the second table, use UNION ALL.</p></li>
<li><p>COUNT(DISTINCT month): returns count of non-null values like table in R</p></li>
<li><p>The CASE statement is followed by at least one pair of WHEN and THEN statements: CASE WHEN year = ‚ÄòSR‚Äô THEN ‚Äòyes‚Äô ELSE NULL END. You can also define a number of outcomes in a CASE statement by including as many WHEN/THEN statements as you‚Äôd like</p></li>
<li><p>If you include two (or more) columns in a SELECT DISTINCT clause, your results will contain all of the unique pairs of those two columns</p></li>
</ul>
</div>
</div>
<div id="tidy-transform" class="section level2">
<h2><span class="header-section-number">2.2</span> Tidy &amp; Transform</h2>
<div id="general-1" class="section level3">
<h3><span class="header-section-number">2.2.1</span> General</h3>
<p>In tidy data: Each variable forms a column. Each observation forms a row. Each type of observational unit forms a table. There are three interrelated rules which make a dataset tidy: 1) Each variable must have its own column, 2) Each observation must have its own row, 3) Each value must have its own cell.</p>
<p>outliers: 1) dropping is an option but a bad one, 2) create a new columns to mark outliers, 3) rescale with the log to reduce the effect of outliers</p>
<p>tomek link: points of different classes which are neighbors of each other. Removing them often improves model performance</p>
<ul>
<li>There is no one rule about when a number is not accurate enough to use, but as a rule of thumb, you should be cautious about using any number with a MOE (Margin-of-error) over 10%.</li>
</ul>
<p>A good formula is: if your sample is picked uniformly at random and is of size at least: <span class="math inline">\(\frac{-log(\frac{d}{2})}{2e^2}\)</span></p>
<p>then with probability at least 1-d your sample measured proportion q is no further away than e from the unknown true population proportion p (what you are trying to estimate). Need to estimate with 99% certainty the unknown true population rate to +- 10% precision? That is d=0.01, e=0.1 and a sample of size 265 should be enough. A stricter precision of +-0.05 causes the estimated sample size to increase to 1060, but increasing the certainty requirement to 99.5% only increases the estimated sample size to 300.</p>
<ul>
<li><p>Use spatial sign to transform data with outliers.</p></li>
<li><p>Too many levels for a category: 1) limit number of categories through feature selection, 2) <a href="https://stats.stackexchange.com/questions/95212/improve-classification-with-many-categorical-variables" class="uri">https://stats.stackexchange.com/questions/95212/improve-classification-with-many-categorical-variables</a>, 3) bucket groups by number of samples</p></li>
<li><p>Long story short, if these outliers are really such (i.e.¬†they appear with a very low frequency and very likely are bad/random/corrupted measurements) and they do not correspond to potential events/failures that your model should be aware of, you can safely remove them. In all other cases you should evaluate case by case what those outliers represent.</p></li>
<li><p>Otherwise, assuming levels of the categorical variable are ordered, the polyserial correlation (here it is in R), which is a variant of the better known polychoric correlation. Note the latter is defined based on the correlation between the numerical variable and a continuous latent trait underlying the categorical variable.</p></li>
<li><p>You should use a logarithmic scale when percent change, or change in orders of magnitude, is more important than changes in absolute units. You should also use a log scale to better visualize data that is heavily skewed. Taking the logarithm only works if the data is non-negative. There are other transforms, such as arcsinh or signed log, that you can use to decrease data range if you have zero or negative values.</p></li>
<li><p>Normalizing by mean and standard deviation is most meaningful when the data distribution is roughly symmetric.</p></li>
<li><p>Monetary amounts are often log- distributed‚Äîthe log of the data is normally distributed. This leads us to the idea that taking the log of the data can restore symmetry to it.</p></li>
<li><p>Dixon and Chi-squared tests for outlier detection plus LOF Algorithm.</p></li>
</ul>
</div>
<div id="missingness-imputation" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Missingness &amp; Imputation</h3>
<ul>
<li><p>There are three types of missingness: 1) Completely at Random, 2) At Random, 3) Not at random</p></li>
<li><p>Types of imputation</p>
<ul>
<li>Mean: Simple but can distort distribution, underestimate standard deviation, and distort variable relationships by dragging correlation to zero.</li>
<li>Random: Can amplify outlier observation and induce bias.</li>
<li>Regression: Use observed variables and relationships between these variables. Must make assumptions and can badly extrapolate.
&amp; multiple stochastic regression imputation</li>
</ul></li>
<li><p>The pros of imputation: 1) Helps retain a larger sample size of your data, 2) Does not sacrifice all the available information in an observation because of sparse missingness, 3) Can potentially avoid unwanted bias.</p></li>
<li><p>The cons of imputation: 1) The standard errors of any estimates made during analyses following imputation can tend to be too small, 2) The methods are under the assumption that all measurements are actually ‚Äúknown,‚Äù when in fact some were imputed, 3) Can potentially induce unwanted bias.</p></li>
<li><p>logging converts multiplicative relationships to additive relationships, and by the same token it converts exponential (compound growth) trends to linear trends. By taking logarithms of variables which are multiplicatively related and/or growing exponentially over time, we can often explain their behavior with linear models.</p></li>
</ul>
</div>
</div>
<div id="visualize" class="section level2">
<h2><span class="header-section-number">2.3</span> Visualize</h2>
<p>swarmplot | marimekko charts | radviz | Marey Chart</p>
<p><a href="http://pyviz.org/" class="uri">http://pyviz.org/</a></p>
<p><a href="http://dataviz.tools/" class="uri">http://dataviz.tools/</a></p>
<p><a href="https://www.datawrapper.de/" class="uri">https://www.datawrapper.de/</a></p>
<p><a href="https://www.data-to-viz.com" class="uri">https://www.data-to-viz.com</a></p>
<p><a href="https://dominikkoch.github.io/Bump-Chart/" class="uri">https://dominikkoch.github.io/Bump-Chart/</a></p>
<p><a href="https://www.r-graph-gallery.com/" class="uri">https://www.r-graph-gallery.com/</a></p>
<p><a href="http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html#top" class="uri">http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html#top</a></p>
<p><a href="http://emilkirkegaard.dk/understanding_statistics/">Stats Viz</a></p>
<p><a href="http://students.brown.edu/seeing-theory/">Seeing Theory</a></p>
<p><a href="http://pythonplot.com/">Python Plotting Guide</a></p>
<p><a href="https://python-graph-gallery.com">Py Graph Gallery</a></p>
<p>ggplot: <a href="https://www.pitt.edu/~naraehan/presentation/Graphs_and_Plots_using_Plotly.html">1</a> | <a href="https://plot.ly/python/table/">2</a> | <a href="https://plot.ly/python/html-reports/">3</a> | <a href="http://www.ggplot2-exts.org/gallery/">Extensions</a></p>
<p><a href="http://sankeymatic.com">Sankey Diagram Creator</a></p>
<p><a href="https://nsaunders.wordpress.com/2017/09/08/infographic-style-charts-using-the-r-waffle-package/">R Waffle Charts</a></p>
<p><a href="https://research.googleblog.com/2016/12/open-sourcing-embedding-projector-tool.html">High Dimensional</a></p>
<p><a href="http://www.thehackerwithin.org/swinburne/links.html">Links</a></p>
<p><a href="http://motioninsocial.com/tufte/">Tufte In R</a></p>
<p><a href="http://shinyapps.org/apps/RGraphCompendium/index.php">R Graph Compendium</a></p>
<p><a href="http://www.datavizcatalogue.com/index.html">Data Viz Catalogue</a></p>
<p><a href="http://textvis.lnu.se/">Text Visualization</a></p>
</div>
<div id="pre-processing" class="section level2">
<h2><span class="header-section-number">2.4</span> Pre-processing</h2>
<div id="feature-engineering" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Feature Engineering</h3>
<p>encode missingness a a feature</p>
<p>robust scaler python: median &amp; quantiles</p>
<p>On Unbalanced Classes:</p>
<p>Research on imbalanced classes often considers imbalanced to mean a minority class of 10% to 20%.</p>
<p>That said, here is a rough outline of useful approaches. These are listed approximately in order of effort:</p>
<ul>
<li><p>Do nothing. Sometimes you get lucky and nothing needs to be done. You can train on the so-called natural (or stratified) distribution and sometimes it works without need for modification.</p></li>
<li><p>Balance the training set in some way: Oversample the minority class. Undersample the majority class.
Synthesize new minority classes.</p></li>
</ul>
<p>*Throw away minority examples and switch to an anomaly detection framework.</p>
<ul>
<li><p>At the algorithm level, or after it: Adjust the class weight (misclassification costs). Adjust the decision threshold. Modify an existing algorithm to be more sensitive to rare classes.</p></li>
<li><p>Construct an entirely new algorithm to perform well on imbalanced data.</p></li>
<li><p>Use AUC, F1 Score, Cohen‚Äôs Kappa, ROC curve, a precision-recall curve, a lift curve, or a profit (gain) curve for evaluation.</p></li>
<li><p>Use probability estimates and not the default .5 threshold.</p></li>
<li><p>Undersampling, oversampling, increase weight of minority class</p></li>
<li><p>Decision trees often perform well on imbalanced datasets because their hierarchical structure allows them to learn signals from both classes.</p></li>
<li><p>Sklearn <a href="example:%60mdl" class="uri">example:`mdl</a> = svm.SVC(kernel=‚Äòlinear‚Äô, class_weight={1: 10}) &amp; svm.SVC(kernel=‚Äòlinear‚Äô, class_weight=‚Äòbalanced‚Äô)`</p></li>
</ul>
</div>
<div id="feature-selection" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Feature Selection</h3>
<ul>
<li><p>Variance Threshold: Use this to exclude features that don‚Äôt meet a variance threshold.</p></li>
<li><p>Univariate Feature Selection: For classification can use chi-squared and F-Test while F-Test for regression. Functions: chi2, f_regression, f_classification from sklearn.feature_selection.</p></li>
<li><p>SelectKBest/SelectPercentile: Keep the k highest scoring features and keep a user-specified highest scoring percentage of features. Can use the univariate feature selection in these functions.</p></li>
<li><p>sklearn.feature_selection.RFE(CV)</p></li>
<li><p>To work around magic values, convert the feature into two features: One feature holds only quality ratings, never magic values. One feature holds a boolean value indicating whether or not a quality_rating was supplied. Give this boolean feature a name like is_quality_rating_defined.</p></li>
<li><p>Handling extreme outliers: Given data with a very long tail, log scaling does a slightly better job, but there‚Äôs still a significant tail of outlier values. Let‚Äôs pick yet another approach. What if we simply ‚Äúcap‚Äù or ‚Äúclip‚Äù the maximum value at an arbitrary value, say 4.0? Clipping the feature value at 4.0 doesn‚Äôt mean that we ignore all values greater than 4.0. Rather, it means that all values that were greater than 4.0 now become 4.0. This explains the funny hill at 4.0. Despite that hill, the scaled feature set is now more useful than the original data. Binning.</p></li>
<li><p>Know your data. Follow these rules: 1) Keep in mind what you think your data should look like. 2) Verify that the data meets these expectations (or that you can explain why it doesn‚Äôt). 3) Double-check that the training data agrees with other sources (for example, dashboards).</p></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="model.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/01-pre_modeling.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
